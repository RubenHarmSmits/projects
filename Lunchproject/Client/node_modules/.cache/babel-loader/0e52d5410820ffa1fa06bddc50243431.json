{"remainingRequest":"C:\\Users\\rsmits\\Documents\\lanthir-lunch\\Client\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\rsmits\\Documents\\lanthir-lunch\\Client\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\rsmits\\Documents\\lanthir-lunch\\Client\\src\\components\\Uitzonderingen\\Uitzonderingen.component.js?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\rsmits\\Documents\\lanthir-lunch\\Client\\src\\components\\Uitzonderingen\\Uitzonderingen.component.js","mtime":1556012580278},{"path":"C:\\Users\\rsmits\\Documents\\lanthir-lunch\\Client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\rsmits\\Documents\\lanthir-lunch\\Client\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\rsmits\\Documents\\lanthir-lunch\\Client\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\rsmits\\\\Documents\\\\lanthir-lunch\\\\Client\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport GeneralFunctionsMixin from '../mixin';\nexport default {\n  mixins: [GeneralFunctionsMixin],\n  Naam: \"uitzonderingen\",\n  data: function data() {\n    return {\n      uitzonderingen: [],\n      datum: null,\n      datumVandaag: new Date().toISOString().substr(0, 10),\n      verwijderDatum: null,\n      datumLijst: [],\n      legeDatumLijst: [],\n      winkelId: null,\n      deadlineDag: null,\n      deadlineTijd: \"11:00\",\n      bestelDeadline: null,\n      winkels: [],\n      winkelsGefilterd: [],\n      typeUitzondering: null,\n      popup: false,\n      headers: [{\n        text: 'Datum',\n        align: 'left',\n        sortable: true,\n        value: 'date'\n      }, {\n        text: 'Winkel',\n        value: 'winkelNaam'\n      }, {\n        text: 'Deadline dag',\n        value: 'deadlineDag'\n      }, {\n        text: 'Deadline',\n        value: 'deadlineTijd'\n      }, {\n        text: 'Verwijderen',\n        value: 'name',\n        sortable: false\n      }],\n      rules: {\n        tijdRule: function tijdRule(value) {\n          return value.length == 5 || \"De deadline moet in het formaat uu:mm\";\n        },\n        required: function required(value) {\n          return !!value || \"Verplicht veld.\";\n        }\n      }\n    };\n  },\n  mounted: function () {\n    var _mounted = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.fetchWinkels();\n\n            case 2:\n              this.fetchWinkelUitzonderingenPerBezorgdag();\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _mounted.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  computed: {\n    computedDatum: function computedDatum() {\n      return this.datum ? this.datumGeformatteerd(this.datum) : '';\n    },\n    computedVerwijderDatum: function computedVerwijderDatum() {\n      return this.verwijderDatum ? this.datumGeformatteerd(this.verwijderDatum) : '';\n    },\n    computedDeadlineDag: function computedDeadlineDag() {\n      return this.deadlineDag ? this.datumGeformatteerd(this.deadlineDag) : '';\n    }\n  },\n  methods: {\n    resetWaardes: function resetWaardes() {\n      this.winkelId = null;\n      this.deadlineDag = null;\n      this.datum = null;\n      this.verwijderDatum = null;\n      this.fetchDatums(50);\n      this.fetchLegeDatums(50);\n    },\n    getWinkelnaam: function getWinkelnaam(winkel) {\n      if (winkel) {\n        return winkel.winkelnaam;\n      } else {\n        return \" \";\n      }\n    },\n    getDeadlineDag: function getDeadlineDag(uitzondering) {\n      if (uitzondering.winkel) {\n        return this.datumGeformatteerd(uitzondering.bestelDeadline.substring(0, 10));\n      } else {\n        return \"\";\n      }\n    },\n    getDeadlineTijd: function getDeadlineTijd(uitzondering) {\n      if (uitzondering.winkel) {\n        return uitzondering.bestelDeadline.substring(11, 16);\n      } else {\n        return \"\";\n      }\n    },\n    setDeadline: function setDeadline() {\n      this.bestelDeadline = this.deadlineDag + \"T\" + this.deadlineTijd;\n    },\n    wijzigBezorgdatum: function wijzigBezorgdatum() {\n      this.addVerwijderUitzondering();\n      this.addUitzondering();\n    },\n    veranderWinkel: function veranderWinkel() {\n      this.verwijderDatum = this.datum;\n      this.verwijderBestellingen();\n      this.addUitzondering();\n    },\n    setWinkelsGefilterd: function setWinkelsGefilterd() {\n      var _this = this;\n\n      this.$http.get('winkel/' + this.datum).then(function (res) {\n        _this.winkelsGefilterd = [];\n        var winkelId = res.data.winkelId;\n\n        for (var i = 0; i < _this.winkels.length; i++) {\n          if (winkelId != _this.winkels[i].winkelId) _this.winkelsGefilterd.push(_this.winkels[i]);\n        }\n      });\n    },\n    verwijderBestellingen: function verwijderBestellingen() {\n      this.popup = true;\n      this.$http.delete(\"bestelling?datum=\".concat(this.verwijderDatum));\n    },\n    getWinkelIdPerDatum: function () {\n      var _getWinkelIdPerDatum = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2(datum) {\n        var _this2 = this;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.$http.get(\"winkel/\" + datum).then(function (res) {\n                  _this2.winkelId = res.data.winkelId;\n                });\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getWinkelIdPerDatum(_x) {\n        return _getWinkelIdPerDatum.apply(this, arguments);\n      }\n\n      return getWinkelIdPerDatum;\n    }(),\n    deleteUitzondering: function () {\n      var _deleteUitzondering = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee3(datum) {\n        var _this3 = this;\n\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                this.$http.delete(\"winkeluitzonderingenperbezorgdag?datum=\".concat(datum)).then(function (res) {\n                  _this3.fetchWinkelUitzonderingenPerBezorgdag();\n                });\n\n              case 1:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function deleteUitzondering(_x2) {\n        return _deleteUitzondering.apply(this, arguments);\n      }\n\n      return deleteUitzondering;\n    }(),\n    fetchWinkelUitzonderingenPerBezorgdag: function () {\n      var _fetchWinkelUitzonderingenPerBezorgdag = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee4() {\n        var _this4 = this;\n\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                this.uitzonderingen = [];\n                this.$http.get(\"winkeluitzonderingenperbezorgdag\").then(function (res) {\n                  _this4.uitzonderingen = res.data;\n                });\n\n              case 2:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function fetchWinkelUitzonderingenPerBezorgdag() {\n        return _fetchWinkelUitzonderingenPerBezorgdag.apply(this, arguments);\n      }\n\n      return fetchWinkelUitzonderingenPerBezorgdag;\n    }(),\n    addUitzondering: function () {\n      var _addUitzondering = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee5() {\n        var _this5 = this;\n\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                this.setDeadline();\n                this.$http.post(\"winkeluitzonderingenperbezorgdag\", {\n                  Date: this.datum,\n                  WinkelId: this.winkelId,\n                  BestelDeadline: this.bestelDeadline\n                }).then(function (res) {\n                  _this5.fetchWinkelUitzonderingenPerBezorgdag();\n                });\n\n              case 2:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function addUitzondering() {\n        return _addUitzondering.apply(this, arguments);\n      }\n\n      return addUitzondering;\n    }(),\n    addVerwijderUitzondering: function () {\n      var _addVerwijderUitzondering = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee6() {\n        var _this6 = this;\n\n        return regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return this.verwijderBestellingen();\n\n              case 2:\n                this.$http.post(\"winkeluitzonderingenperbezorgdag\", {\n                  Date: this.verwijderDatum,\n                  WinkelId: null,\n                  BestelDeadline: null\n                }).then(function (res) {\n                  _this6.fetchWinkelUitzonderingenPerBezorgdag();\n                });\n\n              case 3:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function addVerwijderUitzondering() {\n        return _addVerwijderUitzondering.apply(this, arguments);\n      }\n\n      return addVerwijderUitzondering;\n    }(),\n    fetchLegeDatums: function fetchLegeDatums(aantalDagen) {\n      var _this7 = this;\n\n      this.$http.get(\"bezorgdag/geen?aantalDagen=\" + aantalDagen).then(function (res) {\n        _this7.legeDatumLijst = [];\n        res.data.forEach(function (entry) {\n          _this7.legeDatumLijst.push(entry.substr(0, 10));\n        });\n      });\n    },\n    fetchDatums: function fetchDatums(aantalDagen) {\n      var _this8 = this;\n\n      this.$http.get(\"bezorgdag?aantalDagen=\" + aantalDagen).then(function (res) {\n        _this8.datumLijst = [];\n        res.data.forEach(function (entry) {\n          _this8.datumLijst.push(entry.substr(0, 10));\n        });\n      });\n    }\n  }\n};",{"version":3,"sources":["C:\\Users\\rsmits\\Documents\\lanthir-lunch\\Client\\src\\components\\Uitzonderingen\\Uitzonderingen.component.js"],"names":["GeneralFunctionsMixin","mixins","Naam","data","uitzonderingen","datum","datumVandaag","Date","toISOString","substr","verwijderDatum","datumLijst","legeDatumLijst","winkelId","deadlineDag","deadlineTijd","bestelDeadline","winkels","winkelsGefilterd","typeUitzondering","popup","headers","text","align","sortable","value","rules","tijdRule","length","required","mounted","fetchWinkels","fetchWinkelUitzonderingenPerBezorgdag","computed","computedDatum","datumGeformatteerd","computedVerwijderDatum","computedDeadlineDag","methods","resetWaardes","fetchDatums","fetchLegeDatums","getWinkelnaam","winkel","winkelnaam","getDeadlineDag","uitzondering","substring","getDeadlineTijd","setDeadline","wijzigBezorgdatum","addVerwijderUitzondering","addUitzondering","veranderWinkel","verwijderBestellingen","setWinkelsGefilterd","$http","get","then","res","i","push","delete","getWinkelIdPerDatum","deleteUitzondering","post","WinkelId","BestelDeadline","aantalDagen","forEach","entry"],"mappings":"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","sourcesContent":["\r\nimport GeneralFunctionsMixin from '../mixin';\r\n\r\n\r\nexport default {\r\n    mixins: [GeneralFunctionsMixin],\r\n\r\n    Naam: \"uitzonderingen\",\r\n    data() {\r\n        return {\r\n            uitzonderingen: [],\r\n            datum: null,            \r\n            datumVandaag: new Date().toISOString().substr(0, 10),\r\n            verwijderDatum: null,\r\n            datumLijst: [],\r\n            legeDatumLijst: [],\r\n            winkelId: null,\r\n            deadlineDag: null,\r\n            deadlineTijd: \"11:00\",\r\n            bestelDeadline: null,\r\n            winkels: [],\r\n            winkelsGefilterd: [],\r\n            typeUitzondering: null,\r\n            popup: false,\r\n\r\n\r\n            headers: [\r\n                {\r\n                    text: 'Datum',\r\n                    align: 'left',\r\n                    sortable: true,\r\n                    value: 'date'\r\n                },\r\n                {\r\n                    text: 'Winkel',\r\n                    value: 'winkelNaam'\r\n                },\r\n                {\r\n                    text: 'Deadline dag',\r\n                    value: 'deadlineDag'\r\n                },\r\n                {\r\n                    text: 'Deadline',\r\n                    value: 'deadlineTijd'\r\n                },\r\n                {\r\n                    text: 'Verwijderen',\r\n                    value: 'name',\r\n                    sortable: false\r\n                },\r\n            ],\r\n\r\n            rules: {\r\n                tijdRule: value => value.length == 5 || \"De deadline moet in het formaat uu:mm\",\r\n                required: value => !!value || \"Verplicht veld.\",\r\n            },\r\n        }\r\n    },\r\n\r\n    async mounted() {\r\n        await this.fetchWinkels()\r\n        this.fetchWinkelUitzonderingenPerBezorgdag()\r\n    },\r\n\r\n    computed: {    \r\n\r\n        computedDatum() {            \r\n            return this.datum ? this.datumGeformatteerd(this.datum) : ''\r\n        },\r\n\r\n        computedVerwijderDatum() {\r\n            return this.verwijderDatum ? this.datumGeformatteerd(this.verwijderDatum) : ''\r\n        },\r\n\r\n        computedDeadlineDag() {\r\n            return this.deadlineDag ? this.datumGeformatteerd(this.deadlineDag) : ''\r\n        },\r\n    },\r\n\r\n    \r\n    methods: {\r\n\r\n        resetWaardes() {\r\n            this.winkelId = null;\r\n            this.deadlineDag = null;\r\n            this.datum = null;\r\n            this.verwijderDatum = null;            \r\n            this.fetchDatums(50);\r\n            this.fetchLegeDatums(50);\r\n        },\r\n\r\n      \r\n\r\n      \r\n\r\n        getWinkelnaam(winkel) {\r\n            if (winkel) {\r\n                return winkel.winkelnaam;\r\n            }\r\n            else {\r\n                return \" \";\r\n            }\r\n        },\r\n\r\n        getDeadlineDag(uitzondering) {\r\n            if (uitzondering.winkel) {\r\n                return this.datumGeformatteerd(uitzondering.bestelDeadline.substring(0, 10));\r\n            }\r\n            else {\r\n                return \"\";\r\n            }\r\n        },\r\n\r\n        getDeadlineTijd(uitzondering) {\r\n            if (uitzondering.winkel) {\r\n                return uitzondering.bestelDeadline.substring(11, 16);\r\n            }\r\n            else {\r\n                return \"\";\r\n            }\r\n        },\r\n\r\n        setDeadline() {\r\n            this.bestelDeadline = this.deadlineDag + \"T\" + this.deadlineTijd;\r\n        },\r\n\r\n        wijzigBezorgdatum() {\r\n            this.addVerwijderUitzondering();\r\n            this.addUitzondering();\r\n        },\r\n\r\n        veranderWinkel() {\r\n            this.verwijderDatum = this.datum;\r\n            this.verwijderBestellingen();\r\n            this.addUitzondering();\r\n        },\r\n\r\n        setWinkelsGefilterd() {\r\n            this.$http.get('winkel/' + this.datum)\r\n                .then(res => {\r\n                    this.winkelsGefilterd = [];                   \r\n                    let winkelId = res.data.winkelId\r\n                    for (var i = 0; i < this.winkels.length; i++) {\r\n                        if (winkelId != this.winkels[i].winkelId) this.winkelsGefilterd.push(this.winkels[i]);\r\n                    }\r\n                })             \r\n        },\r\n\r\n        verwijderBestellingen() {\r\n            this.popup = true;                    \r\n            this.$http.delete(`bestelling?datum=${this.verwijderDatum}`)                  \r\n        },\r\n\r\n        async getWinkelIdPerDatum(datum) {\r\n            this.$http.get(`winkel/` + datum)\r\n                .then(res => {\r\n                    this.winkelId = res.data.winkelId\r\n                })\r\n        },\r\n        \r\n\r\n\r\n        async deleteUitzondering(datum) {\r\n            this.$http.delete(`winkeluitzonderingenperbezorgdag?datum=${datum}`)\r\n                .then(res => {\r\n                    this.fetchWinkelUitzonderingenPerBezorgdag();\r\n                })                            \r\n        },\r\n\r\n        async fetchWinkelUitzonderingenPerBezorgdag() {\r\n            this.uitzonderingen = [];\r\n            this.$http.get(`winkeluitzonderingenperbezorgdag`)\r\n                .then( res => {\r\n                    this.uitzonderingen = res.data;\r\n                })           \r\n        },\r\n\r\n        async addUitzondering() {\r\n            this.setDeadline();\r\n            this.$http.post(`winkeluitzonderingenperbezorgdag`, {\r\n                Date: this.datum,\r\n                WinkelId: this.winkelId,\r\n                BestelDeadline: this.bestelDeadline,\r\n            }).then(res => {\r\n                this.fetchWinkelUitzonderingenPerBezorgdag();\r\n            })        \r\n        },\r\n\r\n        async addVerwijderUitzondering() {            \r\n            await this.verwijderBestellingen();\r\n            this.$http.post(`winkeluitzonderingenperbezorgdag`, {\r\n                Date: this.verwijderDatum,\r\n                WinkelId: null,\r\n                BestelDeadline : null,\r\n            }).then(res => {\r\n                this.fetchWinkelUitzonderingenPerBezorgdag();\r\n            })            \r\n        },      \r\n\r\n        fetchLegeDatums(aantalDagen) {\r\n            this.$http.get(\"bezorgdag/geen?aantalDagen=\" + aantalDagen)\r\n                .then(res => {\r\n                    this.legeDatumLijst = [];\r\n                    res.data.forEach(entry => {\r\n                    this.legeDatumLijst.push(entry.substr(0, 10));\r\n                    })\r\n                })                  \r\n            \r\n        },\r\n          \r\n\r\n        fetchDatums(aantalDagen) {\r\n            this.$http.get(\"bezorgdag?aantalDagen=\" + aantalDagen)\r\n                .then(res => {\r\n                    this.datumLijst = [];\r\n                    res.data.forEach(entry => {\r\n                        this.datumLijst.push(entry.substr(0, 10));\r\n                    })\r\n                })\r\n        },\r\n\r\n    }\r\n}\r\n"]}]}