{"remainingRequest":"C:\\Users\\rsmits\\Documents\\lanthir-lunch\\Client\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\rsmits\\Documents\\lanthir-lunch\\Client\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\rsmits\\Documents\\lanthir-lunch\\Client\\src\\components\\Bestelling\\Bestelling.component.js?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\rsmits\\Documents\\lanthir-lunch\\Client\\src\\components\\Bestelling\\Bestelling.component.js","mtime":1554385549337},{"path":"C:\\Users\\rsmits\\Documents\\lanthir-lunch\\Client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\rsmits\\Documents\\lanthir-lunch\\Client\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\rsmits\\Documents\\lanthir-lunch\\Client\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.find-index\";\nimport _getIterator from \"C:\\\\Users\\\\rsmits\\\\Documents\\\\lanthir-lunch\\\\Client\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/get-iterator\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\rsmits\\\\Documents\\\\lanthir-lunch\\\\Client\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport apiPath from '../../Filepaths';\nimport EventBus from '../EventBus.js';\nexport default {\n  name: 'Bestelling',\n  data: function data() {\n    return {\n      headers: [{\n        text: 'Product',\n        align: 'left',\n        sortable: true,\n        value: 'productnaam'\n      }, {\n        text: 'Aantal',\n        value: 'aantal'\n      }, {\n        text: 'Prijs',\n        value: 'prijs'\n      }, {\n        text: 'Bezorgdatum',\n        value: 'datum'\n      }, {\n        text: 'Actions',\n        value: 'name',\n        sortable: false\n      }],\n      bestelling: null,\n      producten: [],\n      rowsPerPageItems: [50, 20, 30, {\n        \"text\": \"All\",\n        \"value\": -1\n      }]\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    EventBus.$on('Product_toegevoegd', function (datum) {\n      _this.fetchBestellingenPerDatum(datum);\n    });\n    EventBus.$on('Datum_update', function (datum) {\n      _this.fetchBestellingenPerDatum(datum);\n    });\n  },\n  methods: {\n    prijsGeformatteerd: function prijsGeformatteerd(prijs) {\n      prijs = prijs.toString();\n\n      while (prijs.length < 3) {\n        prijs = \"0\" + prijs;\n      }\n\n      return prijs.substring(0, prijs.length - 2) + \".\" + prijs.substring(prijs.length - 2);\n    },\n    fetchBestellingenPerDatum: function () {\n      var _fetchBestellingenPerDatum = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee(datum) {\n        var response;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.producten = [];\n                _context.next = 3;\n                return fetch(\"\".concat(apiPath, \"bestelling/\").concat(datum, \"/1\"));\n\n              case 3:\n                response = _context.sent;\n                _context.next = 6;\n                return response.json();\n\n              case 6:\n                this.bestelling = _context.sent;\n                this.productenUitBestellingGebruiker();\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function fetchBestellingenPerDatum(_x) {\n        return _fetchBestellingenPerDatum.apply(this, arguments);\n      }\n\n      return fetchBestellingenPerDatum;\n    }(),\n    productenUitBestellingGebruiker: function productenUitBestellingGebruiker() {\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = _getIterator(this.bestelling[0].productenPerBestellingen), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var product = _step.value;\n          this.producten.push({\n            \"productId\": product.productId,\n            \"datum\": this.bestelling[0].bezorgdatum,\n            \"productnaam\": product.product.naam,\n            \"aantal\": product.aantal,\n            \"prijs\": product.prijs\n          });\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    },\n    deleteProduct: function deleteProduct(props) {\n      var productt = this.producten.findIndex(function (x) {\n        return x.productId == props.productId;\n      });\n      this.producten.splice(productt, 1);\n    }\n  }\n};",{"version":3,"sources":["C:\\Users\\rsmits\\Documents\\lanthir-lunch\\Client\\src\\components\\Bestelling\\Bestelling.component.js"],"names":["apiPath","EventBus","name","data","headers","text","align","sortable","value","bestelling","producten","rowsPerPageItems","created","$on","datum","fetchBestellingenPerDatum","methods","prijsGeformatteerd","prijs","toString","length","substring","fetch","response","json","productenUitBestellingGebruiker","productenPerBestellingen","product","push","productId","bezorgdatum","naam","aantal","deleteProduct","props","productt","findIndex","x","splice"],"mappings":"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","sourcesContent":["import apiPath from '../../Filepaths';\r\nimport EventBus from '../EventBus.js';\r\n\r\n\r\nexport default {\r\n    name: 'Bestelling',\r\n\r\n    data() {\r\n        return {\r\n            headers: [\r\n                {\r\n                    text: 'Product',\r\n                    align: 'left',\r\n                    sortable: true,\r\n                    value: 'productnaam'\r\n                },\r\n                {\r\n                    text: 'Aantal',\r\n                    value: 'aantal'\r\n                },\r\n                {\r\n                    text: 'Prijs',\r\n                    value: 'prijs'\r\n                },\r\n                {\r\n                    text: 'Bezorgdatum',\r\n                    value: 'datum'\r\n                },\r\n                {\r\n                    text: 'Actions',\r\n                    value: 'name',\r\n                    sortable: false\r\n                }\r\n            ],\r\n\r\n            bestelling: null,\r\n\r\n            producten: [],\r\n\r\n            rowsPerPageItems: [50, 20, 30, { \"text\": \"All\", \"value\": -1 }],\r\n        };\r\n       \r\n    },\r\n\r\n\r\n    created() {\r\n\r\n        EventBus.$on('Product_toegevoegd', (datum) => {\r\n            this.fetchBestellingenPerDatum(datum);           \r\n        });\r\n\r\n        EventBus.$on('Datum_update', (datum) => {\r\n            this.fetchBestellingenPerDatum(datum);\r\n        });\r\n    },\r\n\r\n \r\n    methods: {     \r\n\r\n        prijsGeformatteerd(prijs) {\r\n            prijs = prijs.toString();\r\n            while (prijs.length < 3) {\r\n                prijs = \"0\" + prijs;\r\n            }\r\n            return prijs.substring(0, prijs.length - 2) + \".\" + prijs.substring(prijs.length - 2);\r\n        },\r\n\r\n        async fetchBestellingenPerDatum(datum) {\r\n            this.producten = [];            \r\n            let response = await fetch(`${apiPath}bestelling/${datum}/1`);\r\n            \r\n            this.bestelling = await response.json();\r\n            this.productenUitBestellingGebruiker();\r\n        },\r\n\r\n        productenUitBestellingGebruiker() {\r\n            \r\n            for (let product of this.bestelling[0].productenPerBestellingen) {\r\n                this.producten.push({ \"productId\": product.productId, \"datum\": this.bestelling[0].bezorgdatum, \"productnaam\": product.product.naam, \"aantal\": product.aantal, \"prijs\": product.prijs })\r\n            }\r\n        },\r\n        \r\n        deleteProduct(props) {\r\n            var productt = this.producten.findIndex(x => x.productId == props.productId);\r\n            this.producten.splice(productt,1);           \r\n        },\r\n\r\n    }\r\n};"]}]}