{"remainingRequest":"C:\\Users\\rsmits\\Documents\\lanthir-lunch\\Client\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\rsmits\\Documents\\lanthir-lunch\\Client\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\rsmits\\Documents\\lanthir-lunch\\Client\\src\\components\\Datumselectie\\DatumSelectie.component.js?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\rsmits\\Documents\\lanthir-lunch\\Client\\src\\components\\Datumselectie\\DatumSelectie.component.js","mtime":1554385549340},{"path":"C:\\Users\\rsmits\\Documents\\lanthir-lunch\\Client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\rsmits\\Documents\\lanthir-lunch\\Client\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\rsmits\\Documents\\lanthir-lunch\\Client\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\rsmits\\\\Documents\\\\lanthir-lunch\\\\Client\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport \"core-js/modules/es6.regexp.split\";\nimport _slicedToArray from \"C:\\\\Users\\\\rsmits\\\\Documents\\\\lanthir-lunch\\\\Client\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/slicedToArray\";\nimport apiPath from '../../Filepaths';\nimport EventBus from '../EventBus.js';\nexport default {\n  data: function data() {\n    return {\n      datum: null,\n      menu: false,\n      sluitingsDatum: null,\n      datumLijst: []\n    };\n  },\n  mounted: function mounted() {\n    this.initialize();\n  },\n  computed: {\n    datumGeformatteerd: function datumGeformatteerd() {\n      if (!this.datum) return null;\n\n      var _this$datum$split = this.datum.split(\"-\"),\n          _this$datum$split2 = _slicedToArray(_this$datum$split, 3),\n          year = _this$datum$split2[0],\n          month = _this$datum$split2[1],\n          day = _this$datum$split2[2];\n\n      return \"\".concat(year, \"-\").concat(month, \"-\").concat(day);\n    }\n  },\n  methods: {\n    filterDatums: function filterDatums(datum) {\n      return this.datumLijst.indexOf(datum) !== -1;\n    },\n    emitDatumUpdate: function emitDatumUpdate() {\n      EventBus.$emit('Datum_update', this.datumGeformatteerd);\n    },\n    initialize: function () {\n      var _initialize = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.fetchDatums();\n\n              case 2:\n                this.datum = this.datumLijst[0];\n                this.emitDatumUpdate();\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function initialize() {\n        return _initialize.apply(this, arguments);\n      }\n\n      return initialize;\n    }(),\n    fetchDatums: function () {\n      var _fetchDatums = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2() {\n        var response, data, entry;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return fetch(\"\".concat(apiPath, \"bezorgdag\"));\n\n              case 2:\n                response = _context2.sent;\n                this.datumLijst = [];\n                _context2.next = 6;\n                return response.json();\n\n              case 6:\n                data = _context2.sent;\n\n                for (entry in data) {\n                  this.datumLijst.push(data[entry].substr(0, 10));\n                }\n\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function fetchDatums() {\n        return _fetchDatums.apply(this, arguments);\n      }\n\n      return fetchDatums;\n    }(),\n    fetchSluitingsDatum: function () {\n      var _fetchSluitingsDatum = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee3(datum) {\n        var response;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return fetch(\"\".concat(apiPath, \"bezorgdatum/sluiting/\").concat(datum));\n\n              case 2:\n                response = _context3.sent;\n                _context3.next = 5;\n                return response.json();\n\n              case 5:\n                this.sluitingsDatum = _context3.sent;\n\n              case 6:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function fetchSluitingsDatum(_x) {\n        return _fetchSluitingsDatum.apply(this, arguments);\n      }\n\n      return fetchSluitingsDatum;\n    }()\n  }\n};",{"version":3,"sources":["C:\\Users\\rsmits\\Documents\\lanthir-lunch\\Client\\src\\components\\Datumselectie\\DatumSelectie.component.js"],"names":["apiPath","EventBus","data","datum","menu","sluitingsDatum","datumLijst","mounted","initialize","computed","datumGeformatteerd","split","year","month","day","methods","filterDatums","indexOf","emitDatumUpdate","$emit","fetchDatums","fetch","response","json","entry","push","substr","fetchSluitingsDatum"],"mappings":";;;;AAAA,OAAOA,OAAP,MAAoB,iBAApB;AACA,OAAOC,QAAP,MAAqB,gBAArB;AAEA,eAAe;AACXC,EAAAA,IADW,kBACJ;AACH,WAAO;AACHC,MAAAA,KAAK,EAAE,IADJ;AAEHC,MAAAA,IAAI,EAAE,KAFH;AAGHC,MAAAA,cAAc,EAAE,IAHb;AAIHC,MAAAA,UAAU,EAAE;AAJT,KAAP;AAMH,GARU;AAUXC,EAAAA,OAVW,qBAUD;AACN,SAAKC,UAAL;AACH,GAZU;AAcXC,EAAAA,QAAQ,EAAE;AACNC,IAAAA,kBADM,gCACe;AACjB,UAAI,CAAC,KAAKP,KAAV,EAAiB,OAAO,IAAP;;AADA,8BAEU,KAAKA,KAAL,CAAWQ,KAAX,CAAiB,GAAjB,CAFV;AAAA;AAAA,UAEVC,IAFU;AAAA,UAEJC,KAFI;AAAA,UAEGC,GAFH;;AAGjB,uBAAUF,IAAV,cAAkBC,KAAlB,cAA2BC,GAA3B;AACH;AALK,GAdC;AAuBXC,EAAAA,OAAO,EAAE;AACLC,IAAAA,YADK,wBACQb,KADR,EACe;AAChB,aAAO,KAAKG,UAAL,CAAgBW,OAAhB,CAAwBd,KAAxB,MAAmC,CAAC,CAA3C;AACH,KAHI;AAKLe,IAAAA,eALK,6BAKa;AACdjB,MAAAA,QAAQ,CAACkB,KAAT,CAAe,cAAf,EAA+B,KAAKT,kBAApC;AACH,KAPI;AASCF,IAAAA,UATD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAUK,KAAKY,WAAL,EAVL;;AAAA;AAWD,qBAAKjB,KAAL,GAAa,KAAKG,UAAL,CAAgB,CAAhB,CAAb;AACA,qBAAKY,eAAL;;AAZC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAeCE,IAAAA,WAfD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAgBoBC,KAAK,WAAIrB,OAAJ,eAhBzB;;AAAA;AAgBGsB,gBAAAA,QAhBH;AAiBD,qBAAKhB,UAAL,GAAkB,EAAlB;AAjBC;AAAA,uBAkBgBgB,QAAQ,CAACC,IAAT,EAlBhB;;AAAA;AAkBGrB,gBAAAA,IAlBH;;AAmBD,qBAASsB,KAAT,IAAkBtB,IAAlB,EAAwB;AACpB,uBAAKI,UAAL,CAAgBmB,IAAhB,CAAqBvB,IAAI,CAACsB,KAAD,CAAJ,CAAYE,MAAZ,CAAmB,CAAnB,EAAsB,EAAtB,CAArB;AACH;;AArBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAwBCC,IAAAA,mBAxBD;AAAA;AAAA;AAAA,gDAwBqBxB,KAxBrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAyBoBkB,KAAK,WAAIrB,OAAJ,kCAAmCG,KAAnC,EAzBzB;;AAAA;AAyBGmB,gBAAAA,QAzBH;AAAA;AAAA,uBA0B2BA,QAAQ,CAACC,IAAT,EA1B3B;;AAAA;AA0BD,qBAAKlB,cA1BJ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAvBE,CAAf","sourcesContent":["import apiPath from '../../Filepaths';\r\nimport EventBus from '../EventBus.js';\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            datum: null,\r\n            menu: false,\r\n            sluitingsDatum: null,\r\n            datumLijst: [],\r\n        };\r\n    },\r\n\r\n    mounted() {\r\n        this.initialize();\r\n    },\r\n\r\n    computed: {\r\n        datumGeformatteerd() {\r\n            if (!this.datum) return null;\r\n            const [year, month, day] = this.datum.split(\"-\");\r\n            return `${year}-${month}-${day}`;\r\n        },\r\n\r\n    },\r\n\r\n    methods: {\r\n        filterDatums(datum) {\r\n            return this.datumLijst.indexOf(datum) !== -1;\r\n        },\r\n\r\n        emitDatumUpdate() {\r\n            EventBus.$emit('Datum_update', this.datumGeformatteerd);\r\n        },\r\n\r\n        async initialize() {\r\n            await this.fetchDatums();\r\n            this.datum = this.datumLijst[0];           \r\n            this.emitDatumUpdate();\r\n        },\r\n\r\n        async fetchDatums() {\r\n            let response = await fetch(`${apiPath}bezorgdag`);\r\n            this.datumLijst = [];\r\n            let data = await response.json();\r\n            for (var entry in data) {\r\n                this.datumLijst.push(data[entry].substr(0, 10));\r\n            }\r\n        },\r\n\r\n        async fetchSluitingsDatum(datum) {\r\n            let response = await fetch(`${apiPath}bezorgdatum/sluiting/${datum}`);\r\n            this.sluitingsDatum = await response.json();\r\n        },\r\n    },\r\n}"]}]}