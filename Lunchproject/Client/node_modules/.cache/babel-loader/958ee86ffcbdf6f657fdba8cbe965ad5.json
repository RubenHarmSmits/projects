{"remainingRequest":"C:\\Users\\rsmits\\Documents\\lanthir-lunch\\Client\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\rsmits\\Documents\\lanthir-lunch\\Client\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\rsmits\\Documents\\lanthir-lunch\\Client\\src\\components\\Login\\Login.component.js?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\rsmits\\Documents\\lanthir-lunch\\Client\\src\\components\\Login\\Login.component.js","mtime":1556010479767},{"path":"C:\\Users\\rsmits\\Documents\\lanthir-lunch\\Client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\rsmits\\Documents\\lanthir-lunch\\Client\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\rsmits\\Documents\\lanthir-lunch\\Client\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\rsmits\\\\Documents\\\\lanthir-lunch\\\\Client\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"C:\\\\Users\\\\rsmits\\\\Documents\\\\lanthir-lunch\\\\Client\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/objectSpread\";\nimport _defineProperty from \"C:\\\\Users\\\\rsmits\\\\Documents\\\\lanthir-lunch\\\\Client\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/defineProperty\";\nimport \"core-js/modules/es6.function.name\";\n\nvar _mapState;\n\nimport { mapState, mapMutations, mapActions } from 'vuex';\nimport { types as authTypes } from '../../store/auth';\nexport default {\n  name: 'Login',\n  props: {\n    redirectUrl: {\n      type: String,\n      default: \"/\"\n    }\n  },\n  mounted: function mounted() {\n    this.addGoogle();\n  },\n  computed: mapState(authTypes.name, (_mapState = {\n    googleAuth: function googleAuth(state) {\n      return state.googleAuth;\n    },\n    authenticated: function authenticated(state) {\n      return state.authenticated;\n    }\n  }, _defineProperty(_mapState, \"googleAuth\", function googleAuth(state) {\n    return state.googleAuth;\n  }), _defineProperty(_mapState, \"loading\", function loading(state) {\n    return state.pending;\n  }), _mapState)),\n  watch: {\n    authenticated: function authenticated(_authenticated) {\n      if (_authenticated) {\n        this.$router.push({\n          path: this.redirectUrl\n        });\n      }\n    }\n  },\n  methods: _objectSpread({\n    addGoogle: function () {\n      var _addGoogle = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var _this = this;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.onInitGoogleAuth();\n\n              case 2:\n                if (this.googleAuth) {\n                  this.googleAuth.attachClickHandler(this.$refs.google_button.$el, null, function (user) {\n                    _this.externalLogin({\n                      provider: \"Google\",\n                      token: user.getAuthResponse().id_token,\n                      profile: user.getBasicProfile()\n                    });\n                  }, function (err) {\n                    return _this.authError(err);\n                  });\n                }\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function addGoogle() {\n        return _addGoogle.apply(this, arguments);\n      }\n\n      return addGoogle;\n    }()\n  }, mapMutations(authTypes.name, {\n    authError: authTypes.mutations.setAuthError\n  }), mapActions(authTypes.name, {\n    onInitGoogleAuth: authTypes.actions.onInitGoogleAuth,\n    externalLogin: authTypes.actions.onExternalLogin\n  }))\n};",{"version":3,"sources":["C:\\Users\\rsmits\\Documents\\lanthir-lunch\\Client\\src\\components\\Login\\Login.component.js"],"names":["mapState","mapMutations","mapActions","types","authTypes","name","props","redirectUrl","type","String","default","mounted","addGoogle","computed","googleAuth","state","authenticated","pending","watch","$router","push","path","methods","onInitGoogleAuth","attachClickHandler","$refs","google_button","$el","user","externalLogin","provider","token","getAuthResponse","id_token","profile","getBasicProfile","err","authError","mutations","setAuthError","actions","onExternalLogin"],"mappings":";;;;;;;;AAAA,SAASA,QAAT,EAAmBC,YAAnB,EAAiCC,UAAjC,QAAmD,MAAnD;AAGA,SAASC,KAAK,IAAIC,SAAlB,QAAmC,kBAAnC;AAEA,eAAe;AACXC,EAAAA,IAAI,EAAE,OADK;AAGXC,EAAAA,KAAK,EAAE;AACHC,IAAAA,WAAW,EAAE;AACTC,MAAAA,IAAI,EAAEC,MADG;AAETC,MAAAA,OAAO,EAAE;AAFA;AADV,GAHI;AAUXC,EAAAA,OAVW,qBAUD;AACN,SAAKC,SAAL;AACH,GAZU;AAcXC,EAAAA,QAAQ,EAAEb,QAAQ,CAACI,SAAS,CAACC,IAAX;AACdS,IAAAA,UAAU,EAAE,oBAAAC,KAAK;AAAA,aAAIA,KAAK,CAACD,UAAV;AAAA,KADH;AAEdE,IAAAA,aAAa,EAAE,uBAAAD,KAAK;AAAA,aAAIA,KAAK,CAACC,aAAV;AAAA;AAFN,8CAGF,oBAAAD,KAAK;AAAA,WAAIA,KAAK,CAACD,UAAV;AAAA,GAHH,yCAIL,iBAAAC,KAAK;AAAA,WAAIA,KAAK,CAACE,OAAV;AAAA,GAJA,cAdP;AAqBXC,EAAAA,KAAK,EAAE;AACHF,IAAAA,aADG,yBACWA,cADX,EAC0B;AACzB,UAAIA,cAAJ,EAAmB;AACf,aAAKG,OAAL,CAAaC,IAAb,CAAkB;AACdC,UAAAA,IAAI,EAAE,KAAKd;AADG,SAAlB;AAGH;AACJ;AAPE,GArBI;AA+BXe,EAAAA,OAAO;AACGV,IAAAA,SADH;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEO,KAAKW,gBAAL,EAFP;;AAAA;AAGC,oBAAI,KAAKT,UAAT,EAAqB;AACjB,uBAAKA,UAAL,CAAgBU,kBAAhB,CAAmC,KAAKC,KAAL,CAAWC,aAAX,CAAyBC,GAA5D,EAAiE,IAAjE,EACI,UAACC,IAAD,EAAU;AACN,oBAAA,KAAI,CAACC,aAAL,CAAmB;AACfC,sBAAAA,QAAQ,EAAE,QADK;AAEfC,sBAAAA,KAAK,EAAEH,IAAI,CAACI,eAAL,GAAuBC,QAFf;AAGfC,sBAAAA,OAAO,EAAEN,IAAI,CAACO,eAAL;AAHM,qBAAnB;AAKH,mBAPL,EAQI,UAACC,GAAD;AAAA,2BAAS,KAAI,CAACC,SAAL,CAAeD,GAAf,CAAT;AAAA,mBARJ;AAUH;;AAdF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,KAgBAnC,YAAY,CAACG,SAAS,CAACC,IAAX,EAAiB;AAC5BgC,IAAAA,SAAS,EAAEjC,SAAS,CAACkC,SAAV,CAAoBC;AADH,GAAjB,CAhBZ,EAmBArC,UAAU,CAACE,SAAS,CAACC,IAAX,EAAiB;AAC1BkB,IAAAA,gBAAgB,EAAEnB,SAAS,CAACoC,OAAV,CAAkBjB,gBADV;AAE1BM,IAAAA,aAAa,EAAEzB,SAAS,CAACoC,OAAV,CAAkBC;AAFP,GAAjB,CAnBV;AA/BI,CAAf","sourcesContent":["import { mapState, mapMutations, mapActions } from 'vuex';\r\n\r\n\r\nimport { types as authTypes } from '../../store/auth'\r\n\r\nexport default {\r\n    name: 'Login',\r\n\r\n    props: {\r\n        redirectUrl: {\r\n            type: String,\r\n            default: \"/\"\r\n        }\r\n    },\r\n\r\n    mounted() {\r\n        this.addGoogle()\r\n    },\r\n\r\n    computed: mapState(authTypes.name, {\r\n        googleAuth: state => state.googleAuth,\r\n        authenticated: state => state.authenticated,\r\n        googleAuth: state => state.googleAuth,\r\n        loading: state => state.pending\r\n    }),\r\n\r\n    watch: {\r\n        authenticated(authenticated) {\r\n            if (authenticated) {\r\n                this.$router.push({\r\n                    path: this.redirectUrl\r\n                })\r\n            }\r\n        }\r\n    },\r\n\r\n    methods: {\r\n        async addGoogle() {\r\n            await this.onInitGoogleAuth()\r\n            if (this.googleAuth) {\r\n                this.googleAuth.attachClickHandler(this.$refs.google_button.$el, null,\r\n                    (user) => {\r\n                        this.externalLogin({\r\n                            provider: \"Google\",\r\n                            token: user.getAuthResponse().id_token,\r\n                            profile: user.getBasicProfile()\r\n                        })\r\n                    },\r\n                    (err) => this.authError(err)\r\n                );\r\n            }\r\n        },\r\n        ...mapMutations(authTypes.name, {\r\n            authError: authTypes.mutations.setAuthError\r\n        }),\r\n        ...mapActions(authTypes.name, {\r\n            onInitGoogleAuth: authTypes.actions.onInitGoogleAuth,\r\n            externalLogin: authTypes.actions.onExternalLogin\r\n        })\r\n    }\r\n};"]}]}